let subscriptionLink="https://fra.prvc.rocks:24222/user/";async function copyCrypto(e){try{await navigator.clipboard.writeText(e);let t=document.getElementById("copied");t.classList.add("copied--show"),await setTimeout(function(){t.classList.remove("copied--show")},3e3)}catch(e){console.error("Failed to copy: ",e)}}async function deleteKey(){var e=new XMLHttpRequest;e.open("DELETE","/k/<%= short_id %>",!0),e.onreadystatechange=async function(){if(4===e.readyState&&200===e.status){document.getElementsByClassName("download-profile")[0].classList.add("disabled"),document.getElementById("deleteKey").classList.add("disabled");let e=document.getElementById("deleted");e.classList.add("deleted--show"),await setTimeout(function(){e.classList.remove("deleted--show")},3e3)}},e.send()}async function copyLink(){try{await navigator.clipboard.writeText(subscriptionLink);let e=document.getElementById("copiedLink");e.classList.add("copied--show"),await setTimeout(function(){e.classList.remove("copied--show")},3e3)}catch(e){console.error("Failed to copy: ",e)}}document.addEventListener("DOMContentLoaded",function(){const e=window.location.href,t=new URLSearchParams(new URL(e).search).get("user"),s=document.getElementById("subscriptionLink"),o=document.getElementById("userName");s.textContent=`https://fra.prvc.rocks:24222/user/${t}`,o.textContent=t||"random user",subscriptionLink=`https://fra.prvc.rocks:24222/user/${t}`});